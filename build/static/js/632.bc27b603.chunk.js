"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[632],{7542:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(5316),a=n(4453),i=n(184);function c(e){var t=e.variant,n=e.show,c=e.setShow,l=e.title,s=e.body,o=e.confirm,u=e.onClick,d=(e.closeButton,e.stick),f=e.children,m=e.loading;return d&&(d="static"),(0,i.jsxs)(r.Z,{show:n,onHide:function(){return c(!1)},centered:!0,backdrop:d,children:[(0,i.jsx)(r.Z.Header,{closeButton:!0,children:(0,i.jsx)(r.Z.Title,{children:l})}),(0,i.jsxs)(r.Z.Body,{children:[s," ",f]}),(0,i.jsxs)(r.Z.Footer,{children:[!d&&(0,i.jsx)(a.Z,{variant:"light",onClick:function(){return c(!1)},disabled:m,children:"CANCEL"}),(0,i.jsx)(a.Z,{variant:t,onClick:u,loading:m,children:o})]})]})}},2527:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(2791);function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,r.useEffect)((function(){document.title="Loading...",t&&(document.title=e)}),[t])}},9253:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(1413),a=n(2982),i=n(885),c=n(2791),l=n(7022),s=n(9743),o=n(2677),u=n(1827),d=n(9140),f=n(4154),m=n(7689),v=n(7408),h=n(9289),x=n(4453),Z=n(7542),j=n(9388),p=n(6720),y=n(2038),g=n(2527),b=n(828),k=n(184);function C(){var e=(0,m.s0)();return(0,k.jsxs)(l.Z,{children:[(0,k.jsx)(s.Z,{children:(0,k.jsx)(o.Z,{className:"justify-content-center d-flex",children:"Empty cart! Go add something!"})}),(0,k.jsx)(s.Z,{children:(0,k.jsx)(o.Z,{className:"justify-content-center d-flex",children:(0,k.jsx)(x.Z,{onClick:function(){return e("/")},children:"Home"})})})]})}var N=function(e){var t=e.title,n=(0,c.useState)([]),N=(0,i.Z)(n,2),w=N[0],O=N[1],P=(0,c.useState)(!1),E=(0,i.Z)(P,2),S=E[0],R=E[1],I=(0,c.useState)(null),F=(0,i.Z)(I,2),H=F[0],q=F[1],z=(0,c.useRef)(null),B=(0,v.useQueryClient)(),Q=(0,p.jD)(),A=Q.isLoading,D=Q.data,L=Q.isSuccess,M=(0,p.Ig)().mutate,T=(0,p.rA)().mutate;(0,g.Z)(t,L);var _=function(e){var t=e.target,n=t.value,r=t.checked;n=parseInt(n);var i=w.includes(n);r?i||O((function(e){return[].concat((0,a.Z)(e),[n])})):i&&O(w.filter((function(e){return e!==n})))},G=function(){return R(!0)},W=(0,m.s0)(),$=function(e){return function(t){var n=t.target.value,a=z.current;if(""!==a&&null!=a||(a=1),!t.target.validity.valid||""===n||null===n)return B.setQueryData(["cart",J],(function(t){return(0,r.Z)((0,r.Z)({},t),{},{pages:null===t||void 0===t?void 0:t.pages.map((function(t){return(0,r.Z)((0,r.Z)({},t),{},{data:t.data.map((function(t){return t.id===e?(0,r.Z)((0,r.Z)({},t),{},{quantity:a}):t}))})}))})}));n!==a&&T({id:e,value:n})}},J=B.getQueryData(["me"]).data.id,K=function(e,t){return function(n){var a=n.target.value;if(!(a>99||parseInt(a)<=0)&&n.target.validity.valid)return a>t?n.target.value=t:void B.setQueryData(["cart",J],(function(t){return(0,r.Z)((0,r.Z)({},t),{},{pages:null===t||void 0===t?void 0:t.pages.map((function(t){return(0,r.Z)((0,r.Z)({},t),{},{data:t.data.map((function(t){return t.id===e?(0,r.Z)((0,r.Z)({},t),{},{quantity:a}):t}))})}))})}))}},U=function(e){return function(t){var n=t.target,r=n.name,a=n.value;"increase"===r&&(a=parseInt(a)+1),"decrease"===r&&(a=parseInt(a)-1),T({id:e,value:a})}};return(0,y.Z)((function(){var e=null===D||void 0===D?void 0:D.filter((function(e){return w.includes(e.id)})),t=0;null===e||void 0===e||e.map((function(e){var n=e.unitprice,r=e.quantity;return t+=n*r})),q(t.toFixed(2))}),[w,D]),A?(0,k.jsx)(j.Z,{}):0===(null===D||void 0===D?void 0:D.length)?(0,k.jsx)(C,{}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Z.Z,{type:"danger",title:"Remove Product",body:"Are you sure to remove this product?",confirm:"Remove",onClick:function(){R(!1),M(w),O([])},show:S,setShow:R,cancel:!0}),(0,k.jsxs)(l.Z,{className:"d-flex justify-content-between",children:[(0,k.jsx)(s.Z,{className:"mb-2",children:(0,k.jsxs)(o.Z,{children:[(0,k.jsx)(u.Z.Check,{inline:!0,id:"select all",label:"Select All",name:"group1",type:"checkbox",onClick:function(e){e.target.checked?D.map((function(e){var t=e.id,n=e.stock,r=e.quantity;if(!w.includes(t)&&n>0&&n>=r)return O((function(e){return[].concat((0,a.Z)(e),[t])}))})):O([])}}),w.length>0&&(0,k.jsx)(x.Z,{variant:"danger",onClick:G,children:"Remove"})]})}),w.length>0&&(0,k.jsxs)(s.Z,{children:[(0,k.jsx)(o.Z,{children:(0,k.jsx)("h4",{className:"text-truncate",children:"RM "+H})}),(0,k.jsx)(o.Z,{children:(0,k.jsx)(x.Z,{variant:"primary",onClick:function(){var e=D.filter((function(e){return w.includes(e.id)})),t=0;e.map((function(e){var n=e.unitprice,r=e.quantity;return t+=n*r})),t=t.toFixed(2),q(t),W("/checkout",{state:{items:e,total:t}})},children:"CheckOut"})})]})]}),(0,k.jsx)(l.Z,{children:null===D||void 0===D?void 0:D.map((function(e,t){var n=e.id,r=e.name,a=e.desc,i=e.stock,c=e.image,l=e.unitprice,m=e.quantity;return(0,k.jsx)(s.Z,{className:"mb-4",children:(0,k.jsx)(o.Z,{children:(0,k.jsx)(d.Z,{className:"".concat(i<=0&&"unavailable"," mx-auto"),children:(0,k.jsx)(d.Z.Body,{children:(0,k.jsxs)(s.Z,{className:"d-flex align-items-center",children:[(0,k.jsx)(o.Z,{sm:1,className:"d-flex justify-content-center",children:i>0&&m<=i?(0,k.jsx)(u.Z.Check,{inline:!0,name:"group1",type:"checkbox",onChange:_,checked:w.includes(n),className:"ps-4",value:n}):i>0?(0,k.jsx)(h.m_,{color:"dark",notification:!0,pill:!0,children:"Over Quantity"}):(0,k.jsx)(h.m_,{color:"dark",notification:!0,pill:!0,children:"Sold Out"})}),(0,k.jsx)(o.Z,{children:(0,k.jsx)(f.Z,{aspectRatio:"4x3",children:(0,k.jsx)("img",{src:c,alt:c,className:"pointer",onClick:function(){return W("/products/".concat(r))}})})}),(0,k.jsx)(o.Z,{className:"d-flex justify-content-center",children:(0,k.jsx)(d.Z.Title,{children:r})}),(0,k.jsx)(o.Z,{children:(0,k.jsx)(d.Z.Subtitle,{style:{textOverflow:"ellipsis",overflow:"hidden",maxHeight:"100px",lineHeight:"20px"},children:a})}),(0,k.jsxs)(o.Z,{className:"d-flex justify-content-center",children:["RM",l.toFixed(2)]}),(0,k.jsxs)(o.Z,{className:"d-flex justify-content-center",children:[(0,k.jsx)(x.Z,{size:"sm",name:"decrease",value:m,onClick:U(n),disabled:i<=0||m<=1,children:"-"}),(0,k.jsx)(u.Z.Control,{style:{width:"3.5rem"},className:"text-center mx-2",type:"number",name:"quantity",placeholder:"Qty","aria-label":"Qty",onFocus:function(e){return z.current=e.target.value},onBlur:$(n),pattern:"^(?=.*?[0-9]).{,2}$",value:m,onChange:K(n,i),disabled:i<=0}),(0,k.jsx)(x.Z,{size:"sm",name:"increase",value:m,onClick:U(n),disabled:i<=0||m>=i,children:"+"})]}),(0,k.jsxs)(o.Z,{className:"d-flex justify-content-center",children:["RM",(l*m).toFixed(2)]}),(0,k.jsx)(o.Z,{md:1,children:(0,k.jsx)(b._51,{size:"1.5rem",color:"red",onClick:function(){O([n]),G()}})})]})})})})},t)}))})]})}},9140:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(1413),a=n(5987),i=n(1707),c=n.n(i),l=n(2791),s=n(162),o=n(6543),u=n(7472),d=n(184),f=["bsPrefix","className","variant","as"],m=l.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,l=e.variant,o=e.as,u=void 0===o?"img":o,m=(0,a.Z)(e,f),v=(0,s.vE)(n,"card-img");return(0,d.jsx)(u,(0,r.Z)({ref:t,className:c()(l?"".concat(v,"-").concat(l):v,i)},m))}));m.displayName="CardImg";var v=m,h=n(6040),x=["bsPrefix","className","as"],Z=l.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,o=e.as,u=void 0===o?"div":o,f=(0,a.Z)(e,x),m=(0,s.vE)(n,"card-header"),v=(0,l.useMemo)((function(){return{cardHeaderBsPrefix:m}}),[m]);return(0,d.jsx)(h.Z.Provider,{value:v,children:(0,d.jsx)(u,(0,r.Z)((0,r.Z)({ref:t},f),{},{className:c()(i,m)}))})}));Z.displayName="CardHeader";var j=Z,p=["bsPrefix","className","bg","text","border","body","children","as"],y=(0,u.Z)("h5"),g=(0,u.Z)("h6"),b=(0,o.Z)("card-body"),k=(0,o.Z)("card-title",{Component:y}),C=(0,o.Z)("card-subtitle",{Component:g}),N=(0,o.Z)("card-link",{Component:"a"}),w=(0,o.Z)("card-text",{Component:"p"}),O=(0,o.Z)("card-footer"),P=(0,o.Z)("card-img-overlay"),E=l.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,l=e.bg,o=e.text,u=e.border,f=e.body,m=e.children,v=e.as,h=void 0===v?"div":v,x=(0,a.Z)(e,p),Z=(0,s.vE)(n,"card");return(0,d.jsx)(h,(0,r.Z)((0,r.Z)({ref:t},x),{},{className:c()(i,Z,l&&"bg-".concat(l),o&&"text-".concat(o),u&&"border-".concat(u)),children:f?(0,d.jsx)(b,{children:m}):m}))}));E.displayName="Card",E.defaultProps={body:!1};var S=Object.assign(E,{Img:v,Title:k,Subtitle:C,Body:b,Link:N,Text:w,Header:j,Footer:O,ImgOverlay:P})},9983:function(e,t,n){n.d(t,{w_:function(){return o}});var r=n(2791),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(a),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function s(e){return e&&e.map((function(e,t){return r.createElement(e.tag,c({key:t},e.attr),s(e.child))}))}function o(e){return function(t){return r.createElement(u,c({attr:c({},e.attr)},t),s(e.child))}}function u(e){var t=function(t){var n,a=e.attr,i=e.size,s=e.title,o=l(e,["attr","size","title"]),u=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,o,{className:n,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==i?r.createElement(i.Consumer,null,(function(e){return t(e)})):t(a)}}}]);
//# sourceMappingURL=632.bc27b603.chunk.js.map